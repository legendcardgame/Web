<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Preregistro · Registrar</title>

  <!-- Estilos locales (desde /preregistro/) -->
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="./styles.css">

  <!-- Estilos globales (encabezado, watermark, bottom-nav, etc.) -->
  <link rel="stylesheet" href="/Web/main.css">
  <link rel="stylesheet" href="/Web/styles.css?v=2">

  <!-- Config global (API_BASE, etc.) -->
  <!-- OJO: esta página vive en /preregistro/utilities/, por eso la ruta correcta es ./js/config.js -->
  <script src="./js/config.js" defer></script>

  <style>
    /* ===== Titulares (centrados) ===== */
    .hero-title{ font-size:clamp(1.8rem,4.4vw,2.6rem); font-weight:900; letter-spacing:.4px; margin:10px 0 4px; text-align:center; }
    .hero-subtitle{ font-size:clamp(1.1rem,2.8vw,1.4rem); font-weight:800; margin:0 0 10px; text-align:center; opacity:.95; }

    .hero-help{ margin:6px auto 16px; max-width:820px; line-height:1.5; color:#cfcfcf; text-align:center; }
    .hero-help strong{ color:#fff; }

    .bank{ max-width:820px; margin:12px auto 18px; color:#e8e8ea; line-height:1.6; }
    .bank .bank-title{ font-weight:800; margin-bottom:6px; }

    .costs{ max-width:820px; margin:8px auto 16px; color:#e8e8ea; }
    .costs h3{ margin:0 0 10px; font-size:1.05rem; font-weight:800; text-align:left; }

    .option-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }

    .opt-btn{
      --hex-bg1:#1b1b1e; --hex-bg2:#111215; --hex-shadow:rgba(0,0,0,.35);
      position:relative; display:inline-flex; align-items:center; justify-content:space-between; gap:8px;
      padding:12px 16px; color:#fff; font-weight:800; text-decoration:none; letter-spacing:.2px;
      background:linear-gradient(180deg,var(--hex-bg1),var(--hex-bg2));
      filter:drop-shadow(0 6px 16px rgba(0,0,0,.35));
      transition:transform .15s ease, filter .25s ease, background .2s ease;
      clip-path:polygon(10% 0,90% 0,100% 50%,90% 100%,10% 100%,0 50%);
      border:1px solid rgba(255,255,255,.06); cursor:pointer; user-select:none;
    }
    .opt-btn .label{ font-weight:800; }
    .opt-btn .price{ font-weight:900; opacity:.95; }
    .opt-btn:hover{ transform:translateY(-1px); }
    .opt-btn.active{
      --hex-bg1:#e00119; --hex-bg2:#a80012; --hex-shadow:#002f5a;
      filter:drop-shadow(0 6px 16px rgba(0,0,0,.35)) drop-shadow(0 0 10px var(--hex-shadow));
      border-color:transparent;
    }

    .actions{ display:flex; justify-content:center; align-items:center; margin-top:14px; }
    .btn-hex{
      --hex-bg1:#e00119; --hex-bg2:#a80012; --hex-shadow:#002f5a;
      position:relative; display:inline-flex; align-items:center; justify-content:center;
      padding:12px 28px; min-width:220px; color:#fff; font-weight:800; text-decoration:none; letter-spacing:.2px;
      background:linear-gradient(180deg,var(--hex-bg1),var(--hex-bg2));
      filter:drop-shadow(0 6px 16px rgba(0,0,0,.35)) drop-shadow(0 0 10px var(--hex-shadow));
      transition:transform .15s ease, filter .25s ease; clip-path:polygon(10% 0,90% 0,100% 50%,90% 100%,10% 100%,0 50%);
      border:0; cursor:pointer;
    }
    .btn-hex:hover,.btn-hex:focus{ transform:translateY(-2px); filter:drop-shadow(0 10px 24px rgba(0,0,0,.5)) drop-shadow(0 0 14px var(--hex-shadow)); }
    .btn-hex:disabled{ opacity:.7; cursor:not-allowed; filter:saturate(.8); }

    .dots::after{ content:''; animation:dots 1.4s steps(4,end) infinite; }
    @keyframes dots{ 0%{content:''} 25%{content:'.'} 50%{content:'..'} 75%{content:'...'} 100%{content:'....'} }

    .page-pad-bottom{ padding-bottom:110px; }

    .overlay{ position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; z-index:2000; }
    .overlay-content{ background:#111; color:#fff; border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:22px 20px; min-width:260px; text-align:center; box-shadow:0 14px 40px rgba(0,0,0,.45); font-weight:800; }
    .overlay-content.error{ border-color:rgba(255,80,80,.35); color:#ff9a9a; }
  </style>
</head>
<body>
  <!-- Header reutilizable y watermark -->
  <div id="site-header"></div>
  <div class="watermark"></div>

  <div class="container page-pad-bottom">
    <h1 class="hero-title">Preregistro</h1>
    <h2 class="hero-subtitle">Completa tus datos</h2>

    <p class="hero-help">
      Sube tus datos y comprobante. Podrás consultar el estado de tu inscripción desde el menú, recuerda que debes hacer tu pago para poder preinscribirte.
    </p>

    <!-- Datos bancarios -->
    <section class="bank">
      <div class="bank-title">Datos bancarios:</div>
      <div>Banco: <strong>Azteca</strong></div>
      <div>Nombre: <strong>Luis Enrique Rodriguez Huerta</strong></div>
      <div>Clave Interbancaria: <strong>127670013727315857</strong></div>
    </section>

    <!-- Costos + selección -->
    <section class="costs">
      <h3>Elige el evento al deseas preinscribirte:</h3>

      <input type="hidden" id="eventType" name="eventType" value="">
      <div class="option-grid" id="eventOptions">
        <button type="button" class="opt-btn" data-id="principal">
          <span class="label">Evento Principal</span><span class="price">$100</span>
        </button>
        <button type="button" class="opt-btn" data-id="edison">
          <span class="label">Edison Format</span><span class="price">$100</span>
        </button>
        <button type="button" class="opt-btn" data-id="structure-deck">
          <span class="label">Structure Deck</span><span class="price">$100</span>
        </button>
        <button type="button" class="opt-btn" data-id="speed-duel">
          <span class="label">Speed Duel</span><span class="price">$100</span>
        </button>
      </div>
    </section>

    <!-- Formulario -->
    <form id="preForm" class="card">
      <div class="row">
        <div class="field">
          <label for="konamiId">Konami ID (10 dígitos)</label>
          <input id="konamiId" name="konamiId" type="text" inputmode="numeric" placeholder="0400XXXXXX" maxlength="10" required>
          <div class="help">Usa 10 dígitos.</div>
        </div>
        <div class="field">
          <label for="firstName">Nombre(s)</label>
          <input id="firstName" name="firstName" type="text" placeholder="Ej. Juan Carlos" required>
        </div>
        <div class="field">
          <label for="lastName">Apellidos</label>
          <input id="lastName" name="lastName" type="text" placeholder="Ej. Pérez López" required>
        </div>
      </div>

      <div class="row">
        <div class="field">
          <label for="email">Correo</label>
          <input id="email" name="email" type="email" placeholder="tucorreo@ejemplo.com">
        </div>
        <div class="field">
          <label for="phone">Teléfono</label>
          <input id="phone" name="phone" type="tel" placeholder="555-123-4567">
        </div>
      </div>

      <div class="row">
        <div class="field" style="flex:1 1 100%">
          <label for="payment">Comprobante de pago (imagen)</label>
          <input id="payment" name="payment" type="file" accept="image/*">
          <img id="preview" class="preview" alt="Vista previa">
          <div class="help">Formatos aceptados: JPG/PNG. Tamaño sugerido &lt; 8MB.</div>
        </div>
      </div>

      <div class="actions">
        <button id="submitBtn" class="btn-hex" type="button">Enviar</button>
      </div>

      <div id="msg" class="notice"></div>

      <div id="loader" class="loader" style="display:none;">
        <span></span><span></span><span></span><span></span>
      </div>
    </form>
  </div>

  <!-- Overlays -->
  <div id="overlaySuccess" class="overlay">
    <div class="overlay-content"><h1>✅ Registro enviado</h1></div>
  </div>
  <div id="overlayError" class="overlay">
    <div class="overlay-content error"><h1>❌ Ocurrió un error</h1></div>
  </div>

  <!-- Footer reutilizable (bottom-nav) -->
  <div id="site-footer"></div>

  <!-- Loader de layout (header y bottom-nav) -->
  <script src="/Web/assets/js/layout-loader.js" defer></script>

  <!-- Lógica del formulario (extraída del script inline) -->
  <script src="./js/preregistro.js" defer></script>
</body>
</html>


